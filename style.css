/*
  Import Tailwind's base, components, and utilities.
*/
@tailwind base;
@tailwind components;
@tailwind utilities;

/*
  ==========================================================================
  1. THEME & VARIABLE DEFINITIONS
  ==========================================================================
*/
:root {
  --neon-violet: #9D00FF;
  --font-heading: 'Poppins', sans-serif;
  --font-body: 'Inter', sans-serif;
  --bg-dark-card: rgba(14, 19, 32, 0.8); /* bg-slate-950/80 */
}

/*
  ==========================================================================
  2. BASE & TYPOGRAPHY
  ==========================================================================
*/
@layer base {
  body {
    @apply bg-black text-white antialiased;
    font-family: var(--font-body);
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-heading);
    @apply font-bold; /* Poppins is already bold, but this ensures it */
  }

  h1 {
    @apply text-4xl md:text-6xl text-transparent bg-clip-text bg-gradient-to-r from-white to-[var(--neon-violet)];
  }
  h2 {
    @apply text-3xl text-white;
  }
  h3 {
    @apply text-2xl text-white;
  }
  
  p, blockquote {
    @apply text-lg text-slate-200; /* Brighter text for paragraphs */
  }

  a {
    color: var(--neon-violet);
    @apply transition-colors duration-200;
  }
  a:hover {
    filter: brightness(1.2);
  }
}

/*
  ==========================================================================
  3. HEADER & NAVIGATION
  ==========================================================================
*/
header {
  /* Invisible header, as requested */
  @apply sticky top-0 z-50 bg-transparent;
}

header nav a {
  @apply text-white font-medium no-underline transition-colors duration-200;
}

header nav a:hover {
  color: var(--neon-violet);
}

header nav a.text-xl {
  @apply text-white font-bold no-underline;
}

/*
  ==========================================================================
  4. BUTTONS & TABS
  ==========================================================================
*/

/* Main CTA Button: White, pill-shaped, black text */
.start-free-btn {
  @apply bg-white text-black rounded-full font-bold;
  @apply transition-transform duration-200 ease-in-out;
}
.start-free-btn:hover {
  @apply transform scale-[1.03];
}

/* Secondary Button: White outline, pill-shaped */
.secondary-btn {
  @apply bg-transparent text-white rounded-full font-bold border-2 border-white;
  @apply transition-all duration-200 ease-in-out;
}
.secondary-btn:hover {
  @apply transform scale-[1.03] bg-white/5;
}

/* Sparring Tabs */
.action-tab {
  @apply font-semibold rounded-full transition-all duration-200 ease-in-out;
  @apply disabled:opacity-50;
}

/* Active Tab: Matches .start-free-btn */
.action-tab.active-tab {
  @apply bg-white text-black transform scale-[1.03];
}

/* Inactive Tab: White text, glows violet on hover */
.action-tab:not(.active-tab) {
  @apply bg-transparent text-white;
}
.action-tab:not(.active-tab):not(:disabled):hover {
  color: var(--neon-violet);
  text-shadow: 0 0 8px var(--neon-violet);
}

/*
  ==========================================================================
  5. CARDS & PANELS (NEW GLOWING BOX STYLE)
  ==========================================================================
*/
.glowing-card {
  background-color: var(--bg-dark-card);
  border: 1px solid rgba(157, 0, 255, 0.1); /* border-violet-500/10 */
  box-shadow: 0 0 25px -5px rgba(157, 0, 255, 0.15);
  @apply rounded-lg backdrop-blur-lg;
}

/* Legacy .premium-card gets mapped to the new style */
.premium-card {
  @apply glowing-card;
}

/*
  ==========================================================================
  6. FORMS, EDITORS, & PANELS
  ==========================================================================
*/
input[type="url"], input[type="text"], select {
  @apply bg-slate-950/80 border-slate-700/50 rounded-md;
  @apply focus:ring-[var(--neon-violet)] focus:border-[var(--neon-violet)];
}

/* Make panels and editors use the new glowing card style */
#results-panel {
  @apply glowing-card;
  color: #e2e8f0;
  padding: 1.5rem;
  font-family: 'Courier New', Courier, monospace;
  white-space: pre-wrap;
  word-wrap: break-word;
  min-height: 150px;
  max-height: 400px;
  overflow-y: auto;
}

/* Apply card style to the *wrappers* */
#editor-wrapper.glowing-card,
#test-editor-wrapper.glowing-card,
#results-wrapper.glowing-card {
  @apply p-4; /* Add padding to the wrapper */
}

/* The editors themselves are transparent inside the card */
#editor, #test-editor, #test-editor-preview {
  @apply rounded-lg;
}

#results-panel pre {
    white-space: pre-wrap;
    word-wrap: break-word;
}

/*
  ==========================================================================
  7. HERO & ANIMATIONS
  ==========================================================================
*/
/* The subtle grid pattern for the hero */
.hero-grid::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image: linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
  background-size: 2.5rem 2.5rem; /* Larger grid */
  opacity: 0.5;
  z-index: 0;
}
/* Ensure content is above the grid */
.hero-grid > * {
  position: relative;
  z-index: 1;
}

/* Intro Animations */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes fade-in-delay-1 {
  0%, 50% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes fade-in-delay-2 {
  0%, 75% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
@keyframes reveal-light {
  0% { transform: translateX(-100%) skew(-10deg); opacity: 0; }
  25% { opacity: 0.6; }
  100% { transform: translateX(100%) skew(-10deg); opacity: 0; }
}
@keyframes arc-draw {
  from { stroke-dashoffset: 1000; }
  to { stroke-dashoffset: 0; }
}

.animate-fade-in {
  opacity: 0;
  animation: fade-in 1s ease-out 0.5s forwards;
}
.animate-fade-in-delay-1 {
  opacity: 0;
  animation: fade-in-delay-1 1s ease-out 1s forwards;
}
.animate-fade-in-delay-2 {
  opacity: 0;
  animation: fade-in-delay-2 1s ease-out 1.2s forwards;
}

/* Light streak reveal animation */
.h1-reveal-light {
  position: absolute;
  inset: 0;
  background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.3) 50%, transparent 100%);
  background-size: 200% 100%;
  opacity: 0;
  animation: reveal-light 1.5s ease-in-out 0.8s forwards;
}

/* Arc SVG animation */
.hero-arc-svg {
  animation: arc-draw 2s ease-out 0.2s forwards;
  stroke-dasharray: 1000;
  stroke-dashoffset: 1000;
}

/* Scrollytelling Animation */
.hidden-anim {
    opacity: 0;
    filter: blur(5px);
    transform: translateY(20px);
    transition: all 0.7s ease-in-out;
}
.visible-anim {
    opacity: 1;
    filter: blur(0);
    transform: translateY(0);
}

/*
  ==========================================================================
  8. DIGITAL GLOBE (New Component for Home)
  ==========================================================================
*/
.stats-container {
  @apply flex flex-col md:flex-row items-center justify-center gap-12 md:gap-24;
}
.digital-globe {
  width: 200px;
  height: 200px;
  border-radius: 50%;
  position: relative;
  overflow: hidden;
  /* Glowing blue/purple globe */
  background: radial-gradient(circle at 30% 30%, #fff, #a78bfa 40%, #5b21b6 100%);
  box-shadow: 0 0 20px #a78bfa, 0 0 40px #a78bfa, inset 0 0 10px #fff;
}
/* Grid lines for the globe */
.digital-globe::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: 
    linear-gradient(rgba(0, 0, 0, 0.2) 1px, transparent 1px), 
    linear-gradient(90deg, rgba(0, 0, 0, 0.2) 1px, transparent 1px);
  background-size: 1.5rem 1.5rem;
  opacity: 0.5;
  animation: globe-scroll 5s linear infinite;
}
@keyframes globe-scroll {
  from { background-position: 0 0; }
  to { background-position: -3rem 0; }
}
.stats-text {
  @apply text-center;
}
.stats-number {
  @apply text-5xl font-bold text-white;
}
.stats-label {
  @apply text-slate-300 mt-2;
}

/*
  ==========================================================================
  9. MISC & LEGACY
  ==========================================================================
*/
/* Spinner (unchanged) */
.spinner {
  display: inline-block;
  width: 1.5rem;
  height: 1.5rem;
  border: 4px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: #fff;
  animation: spin 1s ease-in-out infinite;
}
@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Light mode (Simplified) */
html:not(.dark) body {
    background: #f3f4f6;
    color: #111827;
}
html:not(.dark) h1, html:not(.dark) h2, html:not(.dark) h3 {
    color: #111827;
}
html:not(.dark) p, html:not(.dark) blockquote {
    color: #4b5563;
}
html:not(.dark) header {
    background-color: #ffffff/80;
    @apply border-b border-slate-200/50;
}
html:not(.dark) header nav a {
    color: #374151;
}
html:not(.dark) header nav a:hover {
    color: var(--neon-violet);
}
html:not(.dark) .start-free-btn {
    @apply bg-black text-white;
}
html:not(.dark) .secondary-btn {
    @apply bg-transparent text-black border-black;
}
html:not(.dark) .action-tab:not(.active-tab) {
    @apply text-black;
}
html:not(.dark) .action-tab.active-tab {
    @apply bg-black text-white;
}
html:not(.dark) .glowing-card {
    background-color: rgba(255, 255, 255, 0.8);
    border: 1px solid rgba(157, 0, 255, 0.2);
    box-shadow: 0 0 25px -5px rgba(157, 0, 255, 0.1);
}
html:not(.dark) #results-panel {
    @apply text-black;
}
html:not(.dark) .stats-number {
  @apply text-black;
}
html:not(.dark) .stats-label {
  @apply text-slate-600;
}
